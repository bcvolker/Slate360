(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{8291:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},8253:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},8759:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},6142:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9036:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2898).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},3251:function(e,t,s){Promise.resolve().then(s.bind(s,7983))},7983:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ea}});var a=s(7437),l=s(2265),i=s(2749),r=s(4033),n=s(5251),o=s(2898);let c=(0,o.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var d=s(1827),m=s(9883),u=s(2457),x=s(9036),p=s(5750),g=s(261);let h=(0,o.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var b=s(2937),y=s(9231),j=s(8064),v=s(5597),f=s(8208),N=s(6006),w=s(8253),k=s(6142);let C=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),D=(0,o.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var S=s(1298),Z=s(2549);let z=(0,o.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),P=(0,o.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var A=s(94);let E=["residential","commercial","industrial","infrastructure","renovation","other"],M=["planning","active","on-hold","completed","cancelled"],_=["project_manager","architect","engineer","designer","contractor","consultant"],U=["read","write","admin"];function T(e){let{project:t,mode:s,onSave:i,onDelete:r,loading:n=!1,...o}=e,[c,d]=(0,l.useState)({name:"",description:"",type:"residential",status:"planning",location:{address:"",city:"",state:"",zipCode:"",country:"USA"},client:{name:"",email:"",phone:"",company:""},timeline:{startDate:"",endDate:"",estimatedDuration:0},budget:{estimated:0,actual:0,currency:"USD"},team:[],tags:[],metadata:{}}),[u,x]=(0,l.useState)({}),[g,h]=(0,l.useState)(""),[b,y]=(0,l.useState)({userId:"",role:"project_manager",permissions:["read"]});(0,l.useEffect)(()=>{if(t&&("edit"===s||"view"===s)){var e,a,l,i,r,n,o,c,m,u,x,p,g,h,b,y;d({name:t.name||"",description:t.description||"",type:t.type||"residential",status:t.status||"planning",location:{address:(null===(e=t.location)||void 0===e?void 0:e.address)||"",city:(null===(a=t.location)||void 0===a?void 0:a.city)||"",state:(null===(l=t.location)||void 0===l?void 0:l.state)||"",zipCode:(null===(i=t.location)||void 0===i?void 0:i.zipCode)||"",country:(null===(r=t.location)||void 0===r?void 0:r.country)||"USA",coordinates:null===(n=t.location)||void 0===n?void 0:n.coordinates},client:{name:(null===(o=t.client)||void 0===o?void 0:o.name)||"",email:(null===(c=t.client)||void 0===c?void 0:c.email)||"",phone:(null===(m=t.client)||void 0===m?void 0:m.phone)||"",company:(null===(u=t.client)||void 0===u?void 0:u.company)||""},timeline:{startDate:(null===(x=t.timeline)||void 0===x?void 0:x.startDate)?new Date(t.timeline.startDate).toISOString().split("T")[0]:"",endDate:(null===(p=t.timeline)||void 0===p?void 0:p.endDate)?new Date(t.timeline.endDate).toISOString().split("T")[0]:"",estimatedDuration:(null===(g=t.timeline)||void 0===g?void 0:g.estimatedDuration)||0},budget:{estimated:(null===(h=t.budget)||void 0===h?void 0:h.estimated)||0,actual:(null===(b=t.budget)||void 0===b?void 0:b.actual)||0,currency:(null===(y=t.budget)||void 0===y?void 0:y.currency)||"USD"},team:(t.team||[]).map(e=>{var t;return{userId:(null===(t=e.userId)||void 0===t?void 0:t.toString())||"",role:e.role||"",permissions:e.permissions||[]}}),tags:t.tags||[],metadata:t.metadata||{}})}},[t,s]);let j=(e,t)=>{d(s=>{let a={...s},l=e.split("."),i=a;for(let e=0;e<l.length-1;e++)i=i[l[e]];return i[l[l.length-1]]=t,a}),u[e]&&x(t=>({...t,[e]:""}))},v=()=>{let e={};return c.name.trim()||(e.name="Project name is required"),c.description.trim()||(e.description="Description is required"),c.location.address.trim()||(e["location.address"]="Address is required"),c.location.city.trim()||(e["location.city"]="City is required"),c.location.state.trim()||(e["location.state"]="State is required"),c.client.name.trim()||(e["client.name"]="Client name is required"),c.client.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.client.email)||(e["client.email"]="Invalid email format"):e["client.email"]="Client email is required",x(e),0===Object.keys(e).length},f=async e=>{if(e.preventDefault(),v()&&i)try{await i(c),o.onClose()}catch(e){console.error("Failed to save project:",e)}},N=async()=>{if((null==t?void 0:t._id)&&r)try{var e;await r((null===(e=t._id)||void 0===e?void 0:e.toString())||""),o.onClose()}catch(e){console.error("Failed to delete project:",e)}},T=()=>{g.trim()&&!c.tags.includes(g.trim())&&(d(e=>({...e,tags:[...e.tags,g.trim()]})),h(""))},I=e=>{d(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},q=e=>{d(t=>({...t,team:t.team.filter((t,s)=>s!==e)}))},F=(e,t)=>{d(s=>({...s,team:s.team.map((s,a)=>{if(a===e){let e=s.permissions.includes(t)?s.permissions.filter(e=>e!==t):[...s.permissions,t];return{...s,permissions:e}}return s})}))};return(0,a.jsx)(A.ZP,{...o,title:(()=>{switch(s){case"create":return"Create New Project";case"edit":return"Edit Project";case"view":return"Project Details";default:return"Project"}})(),size:"view"===s?"xl":"full",closeOnOverlayClick:!n,preventClose:n,children:(0,a.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(w.Z,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),(0,a.jsx)("input",{type:"text",value:c.name,onChange:e=>j("name",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.name?"border-red-500":"border-gray-300"," ").concat("view"===s?"bg-gray-50":"")}),u.name&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,a.jsx)("textarea",{value:c.description,onChange:e=>j("description",e.target.value),disabled:"view"===s,rows:3,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.description?"border-red-500":"border-gray-300"," ").concat("view"===s?"bg-gray-50":"")}),u.description&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Type"}),(0,a.jsx)("select",{value:c.type,onChange:e=>j("type",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300 ".concat("view"===s?"bg-gray-50":""),children:E.map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsx)("select",{value:c.status,onChange:e=>j("status",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-gray-300 ".concat("view"===s?"bg-gray-50":""),children:M.map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5 mr-2"}),"Location"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),(0,a.jsx)("input",{type:"text",value:c.location.address,onChange:e=>j("location.address",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u["location.address"]?"border-red-500":"border-gray-300"," ").concat("view"===s?"bg-gray-50":"")}),u["location.address"]&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u["location.address"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,a.jsx)("input",{type:"text",value:c.location.city,onChange:e=>j("location.city",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u["location.city"]?"border-red-500":"border-gray-300"," ").concat("view"===s?"bg-gray-50":"")}),u["location.city"]&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u["location.city"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,a.jsx)("input",{type:"text",value:c.location.state,onChange:e=>j("location.state",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u["location.state"]?"border-red-500":"border-gray-300"," ").concat("view"===s?"bg-gray-50":"")}),u["location.state"]&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u["location.state"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),(0,a.jsx)("input",{type:"text",value:c.location.zipCode,onChange:e=>j("location.zipCode",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(C,{className:"w-5 h-5 mr-2"}),"Client Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name *"}),(0,a.jsx)("input",{type:"text",value:c.client.name,onChange:e=>j("client.name",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u["client.name"]?"border-red-500":"border-gray-300"," ").concat("view"===s?"bg-gray-50":"")}),u["client.name"]&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u["client.name"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,a.jsx)("input",{type:"email",value:c.client.email,onChange:e=>j("client.email",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u["client.email"]?"border-red-500":"border-gray-300"," ").concat("view"===s?"bg-gray-50":"")}),u["client.email"]&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:u["client.email"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:c.client.phone,onChange:e=>j("client.phone",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),(0,a.jsx)("input",{type:"text",value:c.client.company,onChange:e=>j("client.company",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(D,{className:"w-5 h-5 mr-2"}),"Timeline"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:c.timeline.startDate,onChange:e=>j("timeline.startDate",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:c.timeline.endDate,onChange:e=>j("timeline.endDate",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Duration (days)"}),(0,a.jsx)("input",{type:"number",value:c.timeline.estimatedDuration,onChange:e=>j("timeline.estimatedDuration",parseInt(e.target.value)||0),disabled:"view"===s,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(S.Z,{className:"w-5 h-5 mr-2"}),"Budget"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Budget"}),(0,a.jsx)("input",{type:"number",value:c.budget.estimated,onChange:e=>j("budget.estimated",parseFloat(e.target.value)||0),disabled:"view"===s,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Actual Spent"}),(0,a.jsx)("input",{type:"number",value:c.budget.actual,onChange:e=>j("budget.actual",parseFloat(e.target.value)||0),disabled:"view"===s,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,a.jsxs)("select",{value:c.budget.currency,onChange:e=>j("budget.currency",e.target.value),disabled:"view"===s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"USD",children:"USD"}),(0,a.jsx)("option",{value:"EUR",children:"EUR"}),(0,a.jsx)("option",{value:"GBP",children:"GBP"}),(0,a.jsx)("option",{value:"CAD",children:"CAD"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 mr-2"}),"Team Members"]}),c.team.length>0&&(0,a.jsx)("div",{className:"space-y-3",children:c.team.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[(0,a.jsx)("input",{type:"text",value:e.userId,onChange:e=>{let s=[...c.team];s[t].userId=e.target.value,d(e=>({...e,team:s}))},disabled:"view"===s,placeholder:"User ID",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("select",{value:e.role,onChange:e=>{let s=[...c.team];s[t].role=e.target.value,d(e=>({...e,team:s}))},disabled:"view"===s,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:_.map(e=>(0,a.jsx)("option",{value:e,children:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:U.map(l=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.permissions.includes(l),onChange:()=>F(t,l),disabled:"view"===s,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"ml-1 text-sm text-gray-700 capitalize",children:l})]},l))})]}),"view"!==s&&(0,a.jsx)("button",{type:"button",onClick:()=>q(t),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,a.jsx)(Z.Z,{size:16})})]},t))}),"view"!==s&&(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)("input",{type:"text",value:b.userId,onChange:e=>y(t=>({...t,userId:e.target.value})),placeholder:"User ID",className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("select",{value:b.role,onChange:e=>y(t=>({...t,role:e.target.value})),className:"px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:_.map(e=>(0,a.jsx)("option",{value:e,children:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))}),(0,a.jsx)("button",{type:"button",onClick:()=>{b.userId.trim()&&b.role&&(d(e=>({...e,team:[...e.team,{...b}]})),y({userId:"",role:"project_manager",permissions:["read"]}))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:(0,a.jsx)(m.Z,{size:16})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(z,{className:"w-5 h-5 mr-2"}),"Tags"]}),c.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:c.tags.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e,"view"!==s&&(0,a.jsx)("button",{type:"button",onClick:()=>I(e),className:"ml-2 text-blue-600 hover:text-blue-800",children:(0,a.jsx)(Z.Z,{size:14})})]},t))}),"view"!==s&&(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"text",value:g,onChange:e=>h(e.target.value),placeholder:"Add a tag",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),T())}),(0,a.jsx)("button",{type:"button",onClick:T,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]}),"view"!==s&&(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:["edit"===s&&r&&(0,a.jsx)("button",{type:"button",onClick:N,disabled:n,className:"px-4 py-2 text-red-700 bg-red-100 rounded-lg hover:bg-red-200 transition-colors disabled:opacity-50",children:"Delete Project"}),(0,a.jsx)("button",{type:"button",onClick:o.onClose,disabled:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Saving..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P,{size:16}),(0,a.jsx)("span",{children:"create"===s?"Create Project":"Save Changes"})]})})]})]})})}var I=s(3054),q=s(2167),F=s(4900),L=s(9865),O=s(2369),H=s(3008),B=s(5925);let W=[{id:"welcome",title:"Welcome to Slate360!",description:"Let's walk through the key features of our project management platform.",duration:"2 minutes",completed:!1},{id:"explore_projects",title:"Explore Sample Projects",description:"Browse through our demo projects to see different types and statuses.",duration:"3 minutes",completed:!1},{id:"create_project",title:"Create a New Project",description:"Learn how to set up a new project with all the necessary details.",duration:"5 minutes",completed:!1},{id:"upload_files",title:"Upload and Manage Files",description:"Experience our file management system with sample documents.",duration:"4 minutes",completed:!1},{id:"team_collaboration",title:"Team Collaboration",description:"See how team members can collaborate on projects.",duration:"3 minutes",completed:!1},{id:"tracking_progress",title:"Track Progress and Milestones",description:"Learn about our progress tracking and milestone management.",duration:"4 minutes",completed:!1},{id:"reports_analytics",title:"Reports and Analytics",description:"Explore our reporting and analytics capabilities.",duration:"3 minutes",completed:!1}],R=(0,l.createContext)(void 0);function V(e){let{className:t=""}=e,{isDemoMode:s,showDemoBanner:i,hideDemoBanner:r,workflowProgress:o,startWorkflow:c,projects:d,analytics:m}=function(){let e=(0,l.useContext)(R);if(void 0===e)throw Error("useDemo must be used within a DemoProvider");return e}(),[x,g]=(0,l.useState)(!1);if(!s||!i)return null;let h=d.filter(e=>"completed"===e.status).length,b=d.length,y=[{id:"start_workflow",title:"Start Walkthrough",description:"Begin guided tour",icon:(0,a.jsx)(F.Z,{size:20}),action:()=>{c(),B.Am.success("\uD83D\uDE80 Starting demo workflow walkthrough!")},color:"bg-blue-500 hover:bg-blue-600"},{id:"explore_projects",title:"Explore Projects",description:"Browse sample projects",icon:(0,a.jsx)(L.Z,{size:20}),action:()=>{B.Am.success("\uD83D\uDCC1 Navigate to Projects tab to explore sample data")},color:"bg-green-500 hover:bg-green-600"},{id:"view_analytics",title:"View Analytics",description:"See demo statistics",icon:(0,a.jsx)(u.Z,{size:20}),action:()=>{B.Am.success("\uD83D\uDCCA Navigate to Analytics tab to view demo data")},color:"bg-purple-500 hover:bg-purple-600"},{id:"team_collaboration",title:"Team Features",description:"Test collaboration",icon:(0,a.jsx)(p.Z,{size:20}),action:()=>{B.Am.success("\uD83D\uDC65 Navigate to Team tab to explore collaboration features")},color:"bg-orange-500 hover:bg-orange-600"}];return(0,a.jsx)(q.M,{children:(0,a.jsx)(n.E.div,{className:"fixed top-0 left-0 right-0 z-40 bg-gradient-to-r from-purple-600 via-blue-600 to-purple-600 text-white shadow-lg ".concat(t),initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:(0,a.jsxs)("div",{className:"px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:(0,a.jsx)(O.Z,{size:20,className:"text-yellow-300"})}),(0,a.jsx)("span",{className:"font-bold text-lg",children:"Demo Mode Active"})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-purple-100",children:"Workflow:"}),(0,a.jsx)("div",{className:"w-24 bg-white/20 rounded-full h-2",children:(0,a.jsx)(n.E.div,{className:"bg-yellow-400 h-2 rounded-full",initial:{width:0},animate:{width:"".concat(o,"%")},transition:{duration:.5}})}),(0,a.jsxs)("span",{className:"text-sm text-purple-100",children:[Math.round(o),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-purple-100",children:"Projects:"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[h,"/",b," completed"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>g(!x),className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors",children:"Quick Actions"}),(0,a.jsx)("button",{onClick:r,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:"Hide demo banner",children:(0,a.jsx)(Z.Z,{size:18})})]})]}),(0,a.jsx)(q.M,{children:x&&(0,a.jsxs)(n.E.div,{className:"mt-3 pt-3 border-t border-white/20",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:y.map(e=>(0,a.jsxs)("button",{onClick:e.action,className:"\n                        ".concat(e.color," text-white p-3 rounded-lg text-left transition-all\n                        hover:scale-105 hover:shadow-lg\n                      "),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[e.icon,(0,a.jsx)("span",{className:"font-semibold",children:e.title})]}),(0,a.jsx)("p",{className:"text-sm opacity-90",children:e.description})]},e.id))}),(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-white/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-purple-100",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCCA ",m.projectStats.total," sample projects"]}),(0,a.jsxs)("span",{children:["\uD83D\uDC65 ",m.teamPerformance.activeMembers," team members"]}),(0,a.jsxs)("span",{children:["\uD83D\uDCB0 $",(m.budgetOverview.totalBudget/1e6).toFixed(1),"M total budget"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(H.Z,{size:16,className:"text-green-300"}),(0,a.jsx)("span",{className:"text-green-100",children:"All data is simulated"})]})]})})]})})]})})})}var G=s(8759),$=s(6637);let Q=(0,o.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),K=(0,o.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),J=(0,o.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),X=(0,o.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var Y=s(8291);function ee(e){let{isOpen:t,onClose:s,onStepComplete:i,className:r=""}=e,[o,c]=(0,l.useState)(0),[d,x]=(0,l.useState)(!1),[g,h]=(0,l.useState)(new Set),[b,y]=(0,l.useState)(!0),j=W[o],v=W.length,f=g.size/v*100;(0,l.useEffect)(()=>{if(!d)return;let e=setTimeout(()=>{o<v-1?w():(x(!1),B.Am.success("Workflow walkthrough completed! \uD83C\uDF89"))},8e3);return()=>clearTimeout(e)},[d,o,v]);let N=e=>{h(t=>new Set(Array.from(t).concat(e))),i(e),setTimeout(()=>{o<v-1&&w()},1500)},w=()=>{o<v-1&&c(e=>e+1)},k=e=>{c(e)};return t?(0,a.jsx)(n.E.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 ".concat(r),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsxs)(n.E.div,{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},transition:{type:"spring",damping:25,stiffness:300},children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Demo Workflow Walkthrough"}),(0,a.jsxs)("p",{className:"text-blue-100 mt-1",children:["Step ",o+1," of ",v," â€¢ ",j.duration]})]}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,a.jsx)(Z.Z,{size:24})})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[Math.round(f),"% Complete"]})]}),(0,a.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,a.jsx)(n.E.div,{className:"bg-yellow-400 h-2 rounded-full",initial:{width:0},animate:{width:"".concat(f,"%")},transition:{duration:.5}})})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:(e=>{switch(e){case"welcome":return(0,a.jsx)(G.Z,{size:20});case"explore_projects":return(0,a.jsx)($.Z,{size:20});case"create_project":return(0,a.jsx)(m.Z,{size:20});case"upload_files":return(0,a.jsx)(Q,{size:20});case"team_collaboration":return(0,a.jsx)(p.Z,{size:20});case"tracking_progress":case"reports_analytics":return(0,a.jsx)(u.Z,{size:20});default:return(0,a.jsx)(K,{size:20})}})(j.id)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:j.title}),(0,a.jsx)("p",{className:"text-gray-600 text-lg leading-relaxed",children:j.description})]})]})}),b&&(0,a.jsxs)(n.E.div,{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)(G.Z,{size:20,className:"text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold text-blue-900",children:"Pro Tips"})]}),(0,a.jsx)("ul",{className:"space-y-2",children:(e=>{switch(e){case"welcome":return["Take your time to explore each section","Click on different elements to see how they work","Use the navigation menu to switch between features"];case"explore_projects":return["Click on project cards to see detailed views","Try filtering projects by status or type","Use the search function to find specific projects"];case"create_project":return["Fill in all required fields marked with *","Upload sample files to test the system","Add team members to see collaboration features"];case"upload_files":return["Drag and drop files onto the upload area","Try different file types (PDF, images, documents)","Check the file preview and metadata"];case"team_collaboration":return["Invite team members to projects","Assign roles and permissions","Use the comment system for communication"];case"tracking_progress":return["Update milestone completion status","Track budget vs. actual spending","Monitor project timeline and delays"];case"reports_analytics":return["Generate different types of reports","Export data in various formats","Use filters to customize your view"];default:return["Explore the feature and try different options"]}})(j.id).map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start space-x-2 text-blue-800",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},t))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{x(!d)},className:"\n                  px-4 py-2 rounded-lg font-medium transition-colors\n                  ".concat(d?"bg-orange-500 hover:bg-orange-600 text-white":"bg-green-500 hover:bg-green-600 text-white","\n                "),children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J,{size:16,className:"inline mr-2"}),"Pause"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.Z,{size:16,className:"inline mr-2"}),"Auto-play"]})}),(0,a.jsxs)("button",{onClick:()=>y(!b),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:[b?"Hide":"Show"," Tips"]}),(0,a.jsx)("button",{onClick:()=>{c(0),h(new Set),x(!1)},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Reset"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{o>0&&c(e=>e-1)},disabled:0===o,className:"p-2 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:(0,a.jsx)(X,{size:20})}),(0,a.jsx)("button",{onClick:()=>N(j.id),className:"px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors",children:"Mark Complete"}),(0,a.jsx)("button",{onClick:w,disabled:o===v-1,className:"p-2 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:(0,a.jsx)(Y.Z,{size:20})})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700",children:"Step Navigation"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[g.size," of ",v," completed"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:W.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>k(t),className:"\n                  flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all\n                  ".concat(t===o?"bg-blue-500 text-white shadow-md":g.has(e.id)?"bg-green-100 text-green-700 hover:bg-green-200":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200","\n                "),children:[g.has(e.id)?(0,a.jsx)(H.Z,{size:16}):(0,a.jsx)(K,{size:16}),(0,a.jsx)("span",{children:e.title})]},e.id))})]})]})}):null}var et=s(3293),es=s(573);function ea(){var e,t,s,o;let{data:w,status:k}=(0,i.useSession)(),C=(0,r.useRouter)(),{isDemoMode:D,demoData:S}=(0,b.$)(),{isAuthenticated:Z,userRole:z,userTier:P,isCEO:A,isAdmin:E}=(0,j.qs)(),{projects:M,loading:_,syncStatus:U,forceSync:q,createProject:F,updateProject:L,deleteProject:O,isOnline:H,error:B}=(0,y.jp)(),[W,R]=(0,l.useState)(!1),[G,$]=(0,l.useState)(""),[Q,K]=(0,l.useState)("all"),[J,X]=(0,l.useState)(!1);l.useEffect(()=>{"unauthenticated"===k&&C.push("/login")},[k,C]);let Y=(null==M?void 0:M.filter(e=>{var t,s;let a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(G.toLowerCase()))||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(G.toLowerCase())),l="all"===Q||e.status===Q;return a&&l}))||[];return"loading"===k?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):w?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-cyan-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:"S"})}),(0,a.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-slate-700 to-blue-600 bg-clip-text text-transparent",children:"SLATE360"})]}),(0,a.jsx)("div",{className:"flex-1 max-w-2xl mx-8",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search projects...",value:G,onChange:e=>$(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(v.Z,{}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>R(!W),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null==w?void 0:null===(t=w.user)||void 0===t?void 0:null===(e=t.name)||void 0===e?void 0:e.charAt(0))||"U"})}),(0,a.jsx)("span",{className:"hidden md:block",children:(null==w?void 0:null===(s=w.user)||void 0===s?void 0:s.name)||"User"})]}),W&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,a.jsx)("button",{onClick:()=>R(!1),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"}),(0,a.jsx)("button",{onClick:()=>R(!1),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Settings"}),(0,a.jsx)("button",{onClick:()=>R(!1),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})]})]})]})]})})}),D&&(0,a.jsx)(V,{className:"mb-6"}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",(null===(o=w.user)||void 0===o?void 0:o.name)||"User"]})]}),(0,a.jsxs)("button",{onClick:()=>X(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"New Project"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(u.Z,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:(null==M?void 0:M.length)||0})]})]})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(x.Z,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Projects"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:(null==M?void 0:M.filter(e=>"active"===e.status).length)||0})]})]})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(p.Z,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Team Members"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:(null==M?void 0:M.reduce((e,t)=>{var s;return e+((null===(s=t.team)||void 0===s?void 0:s.length)||0)},0))||0})]})]})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,a.jsx)(g.Z,{className:"w-6 h-6 text-orange-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Sync Status"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:H?"Online":"Offline"})]})]})})]})]}),(0,a.jsxs)("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("select",{value:Q,onChange:e=>K(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Statuses"}),(0,a.jsx)("option",{value:"planning",children:"Planning"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"on-hold",children:"On Hold"})]})]}),!H&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-orange-600",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Working offline"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Projects"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[Y.length," of ",(null==M?void 0:M.length)||0," projects"]})]}),_?(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)(c,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"Loading projects..."})]}):Y.length>0?(0,a.jsx)(N.H,{projects:Y,onEditProject:e=>{},onDeleteProject:e=>{}}):(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:G||"all"!==Q?"No projects match your filters.":"No projects yet. Create your first project to get started!"}),!G&&"all"===Q&&(0,a.jsx)("button",{onClick:()=>X(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Project"})]})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Analytics"}),(0,a.jsx)(f.V,{projects:M||[]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sync Status"}),(0,a.jsx)(I.wR,{showDetails:!0,showActions:!0,className:""})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>X(!0),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"New Project"}),(0,a.jsx)("button",{onClick:()=>C.push("/dashboard/project-hub"),className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"View All Projects"}),A&&(0,a.jsx)("button",{onClick:()=>C.push("/dashboard/ceo"),className:"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm",children:"CEO Dashboard"})]})]})]})]}),D&&(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(ee,{isOpen:!1,onClose:()=>{},onStepComplete:e=>{}})})]}),J&&(0,a.jsx)(T,{isOpen:J,onClose:()=>X(!1),onSave:async e=>{try{await F(e),X(!1)}catch(e){console.error("Failed to create project:",e)}},mode:"create"}),(0,a.jsxs)("div",{className:"fixed bottom-6 right-6 flex flex-col space-y-3",children:[(0,a.jsx)(et.b,{title:"Dashboard Help",content:"This dashboard shows an overview of all your projects, analytics, and quick actions. Use the search and filters to find specific projects."}),(0,a.jsx)(es.g,{title:"Getting Started",steps:[{id:"step1",title:"Create your first project",description:"Start by creating a new project using the New Project button"},{id:"step2",title:"Add team members",description:"Invite team members to collaborate on your project"},{id:"step3",title:"Set up project timeline",description:"Define milestones and deadlines for your project"},{id:"step4",title:"Upload project files",description:"Add relevant documents and 3D models to your project"}]})]})]}):null}}},function(e){e.O(0,[581,749,474,342,750,473,971,938,744],function(){return e(e.s=3251)}),_N_E=e.O()}]);