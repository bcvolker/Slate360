(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{6637:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},3167:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2898).Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},9883:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1827:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5342:function(e,s,t){Promise.resolve().then(t.bind(t,8145))},8145:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(7437),r=t(2265),l=t(2749),i=t(4033),n=t(5251),c=t(9883),d=t(1827),o=t(2898);let x=(0,o.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),m=(0,o.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var h=t(3167);let u=(0,o.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var y=t(6637);let p=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),g=(0,o.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);var j=t(9231),f=t(8064);function b(){let{data:e,status:s}=(0,l.useSession)(),t=(0,i.useRouter)(),{isAuthenticated:o,userRole:b,canAccessFeature:v}=(0,f.qs)(),{projects:N,loading:w}=(0,j.jp)(),[k,C]=(0,r.useState)("grid"),[Z,L]=(0,r.useState)(""),[M,P]=(0,r.useState)("all"),[S,E]=(0,r.useState)(!1);if(r.useEffect(()=>{"unauthenticated"===s&&t.push("/auth/signin")},[s,t]),"loading"===s)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 animate-spin mx-auto mb-4 border-4 border-blue-600 border-t-transparent rounded-full"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading project hub..."})]})});if(!e||!o)return null;if(!v("project-hub"))return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access the Project Hub."}),(0,a.jsx)("button",{onClick:()=>t.push("/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})});let A=N.filter(e=>{var s,t,a;let r=(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(Z.toLowerCase()))||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(Z.toLowerCase()))||(null===(a=e.client)||void 0===a?void 0:a.toLowerCase().includes(Z.toLowerCase())),l="all"===M||e.status===M;return r&&l}),H=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},q=e=>e.charAt(0).toUpperCase()+e.slice(1);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.E.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-gray-900",children:"Project Hub"}),(0,a.jsx)(n.E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-sm text-gray-600",children:"Manage all your construction projects in one place"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"New Project"]})})]})})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search projects...",value:Z,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("select",{value:M,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"archived",children:"Archived"})]}),(0,a.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>C("grid"),className:"p-2 rounded-md transition-colors ".concat("grid"===k?"bg-white shadow-sm":"text-gray-500 hover:text-gray-700"),children:(0,a.jsx)(x,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>C("list"),className:"p-2 rounded-md transition-colors ".concat("list"===k?"bg-white shadow-sm":"text-gray-500 hover:text-gray-700"),children:(0,a.jsx)(m,{className:"w-4 h-4"})})]})]})]})}),w?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-8 h-8 animate-spin mx-auto mb-4 border-4 border-blue-600 border-t-transparent rounded-full"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading projects..."})]}):0===A.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:Z||"all"!==M?"Try adjusting your search or filters":"Get started by creating your first project"}),!Z&&"all"===M&&(0,a.jsx)("button",{onClick:()=>E(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Project"})]}):(0,a.jsx)("div",{className:"grid"===k?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map((e,s)=>{var t,r;return(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer ".concat("list"===k?"p-4":"p-6"),onClick:()=>console.log("Project clicked:",e),children:"grid"===k?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:e.name||"Untitled Project"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description||"No description available"})]}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:(0,a.jsx)(u,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Client:"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.client||"Unknown"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(H(e.status||"draft")),children:q(e.status||"draft")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Team:"}),(0,a.jsxs)("span",{className:"font-medium text-gray-900",children:[(null===(t=e.team)||void 0===t?void 0:t.length)||0," members"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Files:"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(y.Z,{className:"w-3 h-3 mr-1"}),e.files||0]}),(0,a.jsxs)("span",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(p,{className:"w-3 h-3 mr-1"}),e.images||0]}),(0,a.jsxs)("span",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(g,{className:"w-3 h-3 mr-1"}),e.videos||0]})]})]})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Modified: ",e.lastModified?new Date(e.lastModified).toLocaleDateString():"Unknown"]}),(0,a.jsxs)("span",{children:["ID: ",e.id||"N/A"]})]})})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name||"Untitled Project"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description||"No description available"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Client: ",e.client||"Unknown"]}),(0,a.jsxs)("span",{children:["Team: ",(null===(r=e.team)||void 0===r?void 0:r.length)||0," members"]}),(0,a.jsxs)("span",{children:["Files: ",e.files||0]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(H(e.status||"draft")),children:q(e.status||"draft")}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:(0,a.jsx)(u,{className:"w-4 h-4"})})]})]})},e.id||s)})})]}),S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Project"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Project creation functionality will be implemented soon. For now, you can view and manage existing projects."}),(0,a.jsx)("div",{className:"flex justify-end space-x-3",children:(0,a.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})]})}}},function(e){e.O(0,[581,749,474,750,971,938,744],function(){return e(e.s=5342)}),_N_E=e.O()}]);