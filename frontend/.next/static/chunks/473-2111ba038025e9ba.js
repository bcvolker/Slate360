"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{5597:function(e,t,s){s.d(t,{Z:function(){return x}});var r=s(7437),a=s(2265),n=s(5251),l=s(7332),i=s(4280),o=s(6357),c=s(4900),d=s(3008),u=s(1981),m=s(8064);function x(e){let{onDemoModeChange:t,className:s=""}=e,{isCEO:x,isAdmin:g}=(0,m.qs)(),[h,b]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null);if((0,a.useEffect)(()=>{"true"===localStorage.getItem("slate360_demo_mode")&&(b(!0),null==t||t(!0))},[t]),!x&&!g)return null;let v=async()=>{if(!p){f(!0),j(null);try{h?(await w(),b(!1),localStorage.removeItem("slate360_demo_mode"),null==t||t(!1)):(await N(),b(!0),localStorage.setItem("slate360_demo_mode","true"),null==t||t(!0)),j("success")}catch(e){console.error("Demo mode toggle failed:",e),j("error")}finally{f(!1)}}},N=async()=>{await new Promise(e=>setTimeout(e,2e3)),console.log("Demo mode enabled - loading mock data...")},w=async()=>{await new Promise(e=>setTimeout(e,1e3)),console.log("Demo mode disabled - cleaning up...")},C=async()=>{if(!p&&h){f(!0),j(null);try{await new Promise(e=>setTimeout(e,1500)),console.log("Demo data refreshed"),j("success")}catch(e){console.error("Failed to refresh demo data:",e),j("error")}finally{f(!1)}}};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 ".concat(s),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"w-5 h-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Demo Mode"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:h?"Currently showing sample data":"Show sample data for demonstrations"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[h&&(0,r.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,disabled:p,className:"p-2 text-gray-500 hover:text-blue-600 transition-colors disabled:opacity-50",title:"Refresh demo data",children:(0,r.jsx)(i.Z,{className:"w-4 h-4 ".concat(p?"animate-spin":"")})}),(0,r.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,disabled:p,className:"relative inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat(h?"bg-red-100 text-red-700 hover:bg-red-200 border border-red-300":"bg-blue-100 text-blue-700 hover:bg-blue-200 border border-blue-300"," disabled:opacity-50 disabled:cursor-not-allowed"),children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),h?"Disabling...":"Enabling..."]}):(0,r.jsx)(r.Fragment,{children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Disable Demo"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Enable Demo"]})})})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,r.jsx)("span",{className:"flex items-center space-x-2 ".concat(h?"text-green-600":"text-gray-500"),children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Active"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Inactive"})]})})]}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Sample Projects:"}),(0,r.jsx)("span",{className:"text-gray-900 font-medium",children:"12"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Sample Users:"}),(0,r.jsx)("span",{className:"text-gray-900 font-medium",children:"8"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Last Updated:"}),(0,r.jsx)("span",{className:"text-gray-900 font-medium",children:new Date().toLocaleDateString()})]})]}),y&&(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 text-sm p-2 rounded-md ".concat("success"===y?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:["success"===y?(0,r.jsx)(d.Z,{className:"w-4 h-4"}):(0,r.jsx)(u.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"success"===y?"Demo mode ".concat(h?"enabled":"disabled"," successfully"):"Operation failed. Please try again."})]})]}),h&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,r.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,r.jsx)("p",{className:"font-medium",children:"Demo Mode Active"}),(0,r.jsx)("p",{className:"mt-1",children:"You're currently viewing sample data. All changes are temporary and will be reset when demo mode is disabled."})]})]})})]})}},3293:function(e,t,s){s.d(t,{b:function(){return u}});var r=s(7437),a=s(2265),n=s(5251),l=s(2167),i=s(5479),o=s(2549),c=s(5749),d=s(815);function u(e){let{content:t,title:s,size:u="md",position:m="top",maxWidth:x=300,className:g="",iconClassName:h="",tooltipClassName:b="",showCloseButton:p=!0,autoClose:f=!1,autoCloseDelay:y=5e3,trigger:j="both",disabled:v=!1,ariaLabel:N}=e,[w,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(!1),D=(0,a.useRef)(null),E=(0,a.useRef)(null),P=(0,a.useRef)(),M={sm:{icon:16,padding:8},md:{icon:20,padding:10},lg:{icon:24,padding:12}}[u],T={top:{tooltip:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",arrow:"top-full left-1/2 transform -translate-x-1/2 -mt-1"},bottom:{tooltip:"top-full left-1/2 transform -translate-x-1/2 mt-2",arrow:"bottom-full left-1/2 transform -translate-x-1/2 -mb-1"},left:{tooltip:"right-full top-1/2 transform -translate-y-1/2 mr-2",arrow:"left-full top-1/2 transform -translate-y-1/2 -ml-1"},right:{tooltip:"left-full top-1/2 transform -translate-y-1/2 ml-2",arrow:"right-full top-1/2 transform -translate-y-1/2 -mr-1"}}[m];return((0,a.useEffect)(()=>(f&&w&&(P.current=setTimeout(()=>{C(!1)},y)),()=>{P.current&&clearTimeout(P.current)}),[f,w,y]),(0,a.useEffect)(()=>{let e=e=>{D.current&&!D.current.contains(e.target)&&E.current&&!E.current.contains(e.target)&&C(!1)};return w&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[w]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&w&&C(!1)};return w&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[w]),v)?null:(0,r.jsxs)("div",{className:"help-icon-container relative inline-block ".concat(g),children:[(0,r.jsx)(n.E.button,{ref:D,type:"button",onClick:()=>{v||"click"!==j&&"both"!==j||C(!w)},onMouseEnter:()=>{v||(k(!0),("hover"===j||"both"===j)&&C(!0))},onMouseLeave:()=>{v||(k(!1),("hover"===j||"both"===j)&&setTimeout(()=>{S||C(!1)},100))},onFocus:()=>{v||"hover"!==j&&"both"!==j||C(!0)},onBlur:()=>{v||setTimeout(()=>{var e;(null===(e=D.current)||void 0===e?void 0:e.contains(document.activeElement))||C(!1)},100)},disabled:v,className:"\n          help-icon-button\n          inline-flex items-center justify-center\n          rounded-full\n          text-gray-400 hover:text-blue-500\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n          transition-colors duration-200\n          ".concat(h,"\n        "),style:{width:M.icon+2*M.padding,height:M.icon+2*M.padding},"aria-label":N||"Help information".concat(s?" for ".concat(s):""),"aria-expanded":w,"aria-haspopup":"dialog",variants:{idle:{scale:1,rotate:0},hover:{scale:1.1,rotate:5},active:{scale:.95,rotate:-2}},initial:"idle",whileHover:"hover",whileTap:"active",animate:w?"active":S?"hover":"idle",children:(0,r.jsx)(i.Z,{size:M.icon,className:"transition-colors duration-200"})}),(0,r.jsx)(l.M,{children:w&&(0,r.jsxs)(n.E.div,{ref:E,className:"\n              help-tooltip\n              absolute z-50\n              ".concat(T.tooltip,"\n              ").concat(b,"\n            "),style:{maxWidth:"".concat(x,"px")},variants:{hidden:{opacity:0,scale:.8,y:"top"===m?10:"bottom"===m?-10:0,x:"left"===m?10:"right"===m?-10:0},visible:{opacity:1,scale:1,y:0,x:0}},initial:"hidden",animate:"visible",exit:"hidden",transition:{type:"spring",damping:25,stiffness:300,duration:.2},role:"dialog","aria-labelledby":s?"help-tooltip-title":void 0,"aria-describedby":"help-tooltip-content",children:[(0,r.jsxs)("div",{className:"   bg-gray-900 text-white   rounded-lg shadow-2xl   border border-gray-700   overflow-hidden   ",children:[(s||p)&&(0,r.jsxs)("div",{className:"   flex items-center justify-between   px-4 py-3   bg-gray-800 border-b border-gray-700   ",children:[s&&(0,r.jsx)("h3",{id:"help-tooltip-title",className:"text-sm font-semibold text-white",children:s}),p&&(0,r.jsx)("button",{onClick:()=>{C(!1)},className:"   p-1 rounded-md   text-gray-400 hover:text-white   hover:bg-gray-700   focus:outline-none focus:ring-2 focus:ring-blue-500   transition-colors duration-200   ","aria-label":"Close help tooltip",children:(0,r.jsx)(o.Z,{size:16})})]}),(0,r.jsx)("div",{id:"help-tooltip-content",className:"px-4 py-3 text-sm leading-relaxed",children:(0,r.jsx)(c.UG,{remarkPlugins:[d.Z],components:{p:e=>{let{children:t}=e;return(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:t})},ul:e=>{let{children:t}=e;return(0,r.jsx)("ul",{className:"list-disc list-inside mb-2 space-y-1",children:t})},ol:e=>{let{children:t}=e;return(0,r.jsx)("ol",{className:"list-decimal list-inside mb-2 space-y-1",children:t})},li:e=>{let{children:t}=e;return(0,r.jsx)("li",{className:"text-gray-200",children:t})},strong:e=>{let{children:t}=e;return(0,r.jsx)("strong",{className:"font-semibold text-white",children:t})},em:e=>{let{children:t}=e;return(0,r.jsx)("em",{className:"italic text-gray-300",children:t})},code:e=>{let{children:t,className:s}=e;return s?(0,r.jsx)("code",{className:"block p-2 bg-gray-800 rounded text-xs font-mono text-blue-300 overflow-x-auto",children:t}):(0,r.jsx)("code",{className:"px-1 py-0.5 bg-gray-700 rounded text-xs font-mono text-blue-300",children:t})},pre:e=>{let{children:t}=e;return(0,r.jsx)("pre",{className:"p-2 bg-gray-800 rounded text-xs font-mono text-blue-300 overflow-x-auto",children:t})},blockquote:e=>{let{children:t}=e;return(0,r.jsx)("blockquote",{className:"pl-3 border-l-2 border-blue-500 text-gray-300 italic",children:t})},a:e=>{let{href:t,children:s}=e;return(0,r.jsx)("a",{href:t,className:"text-blue-400 hover:text-blue-300 underline",target:"_blank",rel:"noopener noreferrer",children:s})},h1:e=>{let{children:t}=e;return(0,r.jsx)("h1",{className:"text-lg font-bold text-white mb-2",children:t})},h2:e=>{let{children:t}=e;return(0,r.jsx)("h2",{className:"text-base font-semibold text-white mb-2",children:t})},h3:e=>{let{children:t}=e;return(0,r.jsx)("h3",{className:"text-sm font-semibold text-white mb-1",children:t})},table:e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsx)("table",{className:"min-w-full border-collapse border border-gray-600",children:t})})},th:e=>{let{children:t}=e;return(0,r.jsx)("th",{className:"border border-gray-600 px-2 py-1 bg-gray-700 text-white text-left",children:t})},td:e=>{let{children:t}=e;return(0,r.jsx)("td",{className:"border border-gray-600 px-2 py-1 text-gray-200",children:t})}},children:t})})]}),(0,r.jsx)("div",{className:"\n              absolute w-2 h-2 bg-gray-900 border border-gray-700\n              transform rotate-45\n              ".concat(T.arrow,"\n            ")})]})})]})}},94:function(e,t,s){s.d(t,{sm:function(){return u},uB:function(){return m},u_:function(){return d}});var r=s(7437),a=s(2265),n=s(2167),l=s(5251),i=s(2549);let o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-full mx-4"},c={fade:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},slide:{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:100}},scale:{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8}},slideUp:{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50}}};function d(e){let{isOpen:t,onClose:s,title:d,children:u,size:m="md",closeOnOverlayClick:x=!0,closeOnEscape:g=!0,showCloseButton:h=!0,preventClose:b=!1,className:p="",overlayClassName:f="",contentClassName:y="",headerClassName:j="",animation:v="fade",animationDuration:N=.3,ariaLabel:w,ariaDescribedBy:C}=e,S=(0,a.useRef)(null),k=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!g||b)return;let e=e=>{"Escape"===e.key&&s()};if(t){var r;document.addEventListener("keydown",e),k.current=document.activeElement,null===(r=S.current)||void 0===r||r.focus()}return()=>{document.removeEventListener("keydown",e),k.current&&k.current.focus()}},[t,s,g,b]),(0,a.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);let D=(()=>{let e=c[v];return{overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},content:{initial:e.initial,animate:e.animate,exit:e.exit}}})();return(0,r.jsx)(n.M,{children:t&&(0,r.jsxs)(l.E.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 ".concat(f),initial:"initial",animate:"animate",exit:"exit",variants:D.overlay,transition:{duration:N},onClick:e=>{e.target===e.currentTarget&&x&&!b&&s()},role:"dialog","aria-modal":"true","aria-label":w||d,"aria-describedby":C,children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,r.jsxs)(l.E.div,{ref:S,className:"relative bg-white rounded-lg shadow-2xl w-full ".concat(o[m]," ").concat(p),variants:D.content,transition:{duration:N,type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),tabIndex:-1,children:[(d||h)&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 ".concat(j),children:[d&&(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:d}),h&&(0,r.jsx)("button",{onClick:()=>{b||s()},disabled:b,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors ".concat(b?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),"aria-label":"Close modal",children:(0,r.jsx)(i.Z,{className:"w-5 h-5 text-gray-500"})})]}),(0,r.jsx)("div",{className:"p-6 ".concat(y),children:u})]})]})})}function u(e){let{isOpen:t,onClose:s,onConfirm:a,title:n="Confirm Action",message:l="Are you sure you want to proceed?",confirmText:i="Confirm",cancelText:o="Cancel",confirmVariant:c="danger",...u}=e;return(0,r.jsx)(d,{isOpen:t,onClose:s,title:n,size:"sm",...u,children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-gray-600",children:l}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:o}),(0,r.jsx)("button",{onClick:()=>{a(),s()},className:"px-4 py-2 rounded-lg transition-colors ".concat((()=>{switch(c){case"danger":return"bg-red-600 hover:bg-red-700 text-white";case"success":return"bg-green-600 hover:bg-green-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";default:return"bg-blue-600 hover:bg-blue-700 text-white"}})()),children:i})]})]})})}function m(e){let{isOpen:t,onClose:s,title:a,children:n,onSubmit:l,submitText:i="Submit",cancelText:o="Cancel",submitVariant:c="primary",loading:u=!1,...m}=e;return(0,r.jsx)(d,{isOpen:t,onClose:s,title:a,size:"lg",...m,children:(0,r.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[n,(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"button",onClick:s,disabled:u,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:o}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"px-4 py-2 rounded-lg transition-colors disabled:opacity-50 ".concat((()=>{switch(c){case"success":return"bg-green-600 hover:bg-green-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";default:return"bg-blue-600 hover:bg-blue-700 text-white"}})()),children:u?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Loading..."})]}):i})]})]})})}t.ZP=d},573:function(e,t,s){s.d(t,{g:function(){return x}});var r=s(7437),a=s(2265),n=s(5251),l=s(2167),i=s(9865),o=s(9224),c=s(3523),d=s(2549),u=s(5749),m=s(815);function x(e){let{title:t,steps:s,variant:x="default",theme:g="light",maxHeight:h=400,className:b="",buttonClassName:p="",panelClassName:f="",showStepNumbers:y=!0,showProgress:j=!0,collapsible:v=!0,defaultOpen:N=!1,autoClose:w=!1,autoCloseDelay:C=1e4,disabled:S=!1,ariaLabel:k}=e,[D,E]=(0,a.useState)(N),[P,M]=(0,a.useState)(null),[T,L]=(0,a.useState)(new Set),z=(0,a.useRef)(null),Z=(0,a.useRef)(null),F=(0,a.useRef)(),A={light:{button:"bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300",panel:"bg-white border-gray-200 shadow-lg",header:"bg-gray-50 border-gray-200",step:"border-gray-200 hover:bg-gray-50",stepActive:"border-blue-500 bg-blue-50",stepCompleted:"border-green-500 bg-green-50",stepError:"border-red-500 bg-red-50"},dark:{button:"bg-gray-800 hover:bg-gray-700 text-gray-200 border-gray-600",panel:"bg-gray-900 border-gray-600 shadow-xl",header:"bg-gray-800 border-gray-600",step:"border-gray-600 hover:bg-gray-800",stepActive:"border-blue-400 bg-blue-900/20",stepCompleted:"border-green-400 bg-green-900/20",stepError:"border-red-400 bg-red-900/20"},blue:{button:"bg-blue-100 hover:bg-blue-200 text-blue-700 border-blue-300",panel:"bg-white border-blue-200 shadow-lg",header:"bg-blue-50 border-blue-200",step:"border-blue-200 hover:bg-blue-50",stepActive:"border-blue-500 bg-blue-50",stepCompleted:"border-green-500 bg-green-50",stepError:"border-red-500 bg-red-50"},green:{button:"bg-green-100 hover:bg-green-200 text-green-700 border-green-300",panel:"bg-white border-green-200 shadow-lg",header:"bg-green-50 border-green-200",step:"border-green-200 hover:bg-green-50",stepActive:"border-blue-500 bg-blue-50",stepCompleted:"border-green-500 bg-green-50",stepError:"border-red-500 bg-red-50"}}[g],U={default:{maxSteps:s.length,showDetails:!0},compact:{maxSteps:Math.min(5,s.length),showDetails:!1},detailed:{maxSteps:s.length,showDetails:!0}}[x],_=s.slice(0,U.maxSteps);(0,a.useEffect)(()=>(w&&D&&(F.current=setTimeout(()=>{E(!1)},C)),()=>{F.current&&clearTimeout(F.current)}),[w,D,C]),(0,a.useEffect)(()=>{let e=e=>{z.current&&!z.current.contains(e.target)&&Z.current&&!Z.current.contains(e.target)&&E(!1)};return D&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[D]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&D&&E(!1)};return D&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[D]);let O=()=>{S||E(!D)},R=e=>{M(P===e?null:e)},I=e=>{L(t=>{let s=new Set(t);return s.add(e),s})},q=e=>{L(t=>{let s=new Set(t);return s.delete(e),s})},H=j?T.size/s.length*100:0,Y=e=>T.has(e.id)?"completed":P===e.id?"active":e.status?e.status:"pending",B=e=>{switch(e){case"active":return A.stepActive;case"completed":return A.stepCompleted;case"error":return A.stepError;default:return A.step}},J={hidden:{opacity:0,x:-20},visible:e=>({opacity:1,x:0,transition:{delay:.1*e,duration:.3}})};return S?null:(0,r.jsxs)("div",{className:"process-guide-container relative ".concat(b),children:[(0,r.jsxs)(n.E.button,{ref:z,type:"button",onClick:O,disabled:S,className:"\n          process-guide-button\n          inline-flex items-center space-x-2\n          px-4 py-2 rounded-lg border\n          font-medium transition-all duration-200\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n          ".concat(A.button,"\n          ").concat(p,"\n        "),"aria-label":k||"Process guide for ".concat(t),"aria-expanded":D,"aria-controls":"process-guide-panel",variants:{idle:{scale:1,rotate:0},hover:{scale:1.05,rotate:2},active:{scale:.95,rotate:-2}},initial:"idle",whileHover:"hover",whileTap:"active",animate:D?"active":"idle",children:[(0,r.jsx)(i.Z,{size:18}),(0,r.jsx)("span",{children:t}),(0,r.jsx)(n.E.div,{animate:{rotate:D?180:0},transition:{duration:.2},children:D?(0,r.jsx)(o.Z,{size:18}):(0,r.jsx)(c.Z,{size:18})})]}),(0,r.jsx)(l.M,{children:D&&(0,r.jsxs)(n.E.div,{ref:Z,id:"process-guide-panel",className:"\n              process-guide-panel\n              absolute top-full left-0 mt-2 z-50\n              w-96 max-w-sm\n              ".concat(A.panel,"\n              border rounded-lg\n              ").concat(f,"\n            "),variants:{hidden:{opacity:0,height:0,scale:.95},visible:{opacity:1,height:"auto",scale:1}},initial:"hidden",animate:"visible",exit:"hidden",transition:{type:"spring",damping:25,stiffness:300,duration:.3},role:"dialog","aria-labelledby":"process-guide-title","aria-describedby":"process-guide-content",children:[(0,r.jsxs)("div",{className:"\n              flex items-center justify-between\n              px-4 py-3 border-b\n              ".concat(A.header,"\n            "),children:[(0,r.jsx)("h3",{id:"process-guide-title",className:"text-lg font-semibold",children:t}),(0,r.jsx)("button",{onClick:O,className:"   p-1 rounded-md   text-gray-500 hover:text-gray-700   hover:bg-gray-200   focus:outline-none focus:ring-2 focus:ring-blue-500   transition-colors duration-200   ","aria-label":"Close process guide",children:(0,r.jsx)(d.Z,{size:18})})]}),j&&(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[T.size," of ",s.length," steps"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)(n.E.div,{className:"bg-green-500 h-2 rounded-full transition-all duration-300",initial:{width:0},animate:{width:"".concat(H,"%")},transition:{duration:.5,delay:.2}})})]}),(0,r.jsxs)("div",{id:"process-guide-content",className:"p-4",style:{maxHeight:"".concat(h,"px")},children:[(0,r.jsx)("div",{className:"space-y-3",children:_.map((e,t)=>{let s=Y(e),a=B(s);return(0,r.jsx)(n.E.div,{custom:t,variants:J,initial:"hidden",animate:"visible",className:"\n                        process-step\n                        border rounded-lg p-3 cursor-pointer\n                        transition-all duration-200\n                        ".concat(a,"\n                      "),onClick:()=>R(e.id),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[y&&(0,r.jsx)("div",{className:"\n                            flex-shrink-0 w-6 h-6 rounded-full\n                            flex items-center justify-center text-xs font-bold\n                            ".concat("completed"===s?"bg-green-500 text-white":"active"===s?"bg-blue-500 text-white":"error"===s?"bg-red-500 text-white":"bg-gray-300 text-gray-600","\n                          "),children:"completed"===s?"✓":t+1}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:(0,r.jsx)(u.UG,{remarkPlugins:[m.Z],components:{p:e=>{let{children:t}=e;return(0,r.jsx)("span",{children:t})},strong:e=>{let{children:t}=e;return(0,r.jsx)("strong",{className:"font-semibold",children:t})},em:e=>{let{children:t}=e;return(0,r.jsx)("em",{className:"italic",children:t})},code:e=>{let{children:t}=e;return(0,r.jsx)("code",{className:"px-1 py-0.5 bg-gray-100 rounded text-xs font-mono",children:t})}},children:e.description})}),U.showDetails&&P===e.id&&(0,r.jsxs)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-3 pt-2 border-t border-gray-200",children:[e.duration&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,r.jsx)("strong",{children:"Duration:"})," ",e.duration]}),e.requirements&&e.requirements.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Requirements:"}),(0,r.jsx)("ul",{className:"text-xs text-gray-600 space-y-1",children:e.requirements.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),(0,r.jsx)("span",{children:e})]},t))})]}),e.tips&&e.tips.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs font-medium text-blue-700 mb-1",children:"Tips:"}),(0,r.jsx)("ul",{className:"text-xs text-blue-600 space-y-1",children:e.tips.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),(0,r.jsx)("span",{children:e})]},t))})]}),(0,r.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),I(e.id)},className:"   px-2 py-1 text-xs   bg-green-500 text-white rounded   hover:bg-green-600   focus:outline-none focus:ring-2 focus:ring-green-500   transition-colors duration-200   ",children:"Mark Complete"}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),q(e.id)},className:"   px-2 py-1 text-xs   bg-red-500 text-white rounded   hover:bg-red-600   focus:outline-none focus:ring-2 focus:ring-red-500   transition-colors duration-200   ",children:"Mark Error"})]})]})]})]})},e.id)})}),(0,r.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:[s.length>U.maxSteps&&(0,r.jsxs)("p",{children:["Showing ",U.maxSteps," of ",s.length," steps"]}),(0,r.jsx)("p",{children:"Click on any step to see more details"})]})})]})]})})]})}},8208:function(e,t,s){s.d(t,{V:function(){return m}});var r=s(7437),a=s(2265),n=s(5251),l=s(2457),i=s(998),o=s(1298),c=s(5750),d=s(8783),u=s(5688);function m(e){let{projects:t,className:s="",showCharts:n=!0,showMetrics:d=!0,showTrends:u=!0,timeRange:m="all"}=e,[f,y]=(0,a.useState)("overview"),j=(0,a.useMemo)(()=>{let e=function(e,t){let s;if("all"===t)return e;let r=new Date;switch(t){case"week":s=new Date(r.getTime()-6048e5);break;case"month":s=new Date(r.getFullYear(),r.getMonth(),1);break;case"quarter":let a=Math.floor(r.getMonth()/3);s=new Date(r.getFullYear(),3*a,1);break;case"year":s=new Date(r.getFullYear(),0,1);break;default:return e}return e.filter(e=>{var t;return(null===(t=e.timeline)||void 0===t?void 0:t.startDate)?new Date(e.timeline.startDate)>=s:e.createdAt>=s})}(t,m),s=e.length,r=e.filter(e=>"active"===e.status).length,a=e.filter(e=>"completed"===e.status).length,n=e.filter(e=>"on-hold"===e.status).length,l=e.filter(e=>"cancelled"===e.status).length,i=e.reduce((e,t)=>{var s;return e+((null===(s=t.budget)||void 0===s?void 0:s.estimated)||0)},0),o=e.reduce((e,t)=>{var s;return e+((null===(s=t.budget)||void 0===s?void 0:s.actual)||0)},0),c=e.filter(e=>{var t,s;return(null===(t=e.timeline)||void 0===t?void 0:t.startDate)&&(null===(s=e.timeline)||void 0===s?void 0:s.endDate)}),d=c.length>0?c.reduce((e,t)=>{let s=new Date(t.timeline.startDate);return e+(new Date(t.timeline.endDate).getTime()-s.getTime())/864e5},0)/c.length:0,u=e.reduce((e,t)=>{var s;return e+((null===(s=t.team)||void 0===s?void 0:s.length)||0)},0),x=new Set(e.flatMap(e=>{var t;return(null===(t=e.team)||void 0===t?void 0:t.map(e=>e.userId))||[]})).size,g=e.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{});return{totalProjects:s,activeProjects:r,completedProjects:a,onHoldProjects:n,cancelledProjects:l,totalBudget:i,actualSpent:o,budgetUtilization:i>0?o/i*100:0,averageProjectDuration:d,teamUtilization:x>0?u/x:0,projectTypes:g,statusDistribution:e.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),monthlyProgress:function(e){let t={};return e.forEach(e=>{var s,r;if(null===(s=e.timeline)||void 0===s?void 0:s.startDate){let s=new Date(e.timeline.startDate),a="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"));t[a]||(t[a]={completed:0,started:0,revenue:0}),t[a].started++,"completed"===e.status&&t[a].completed++,(null===(r=e.budget)||void 0===r?void 0:r.actual)&&(t[a].revenue+=e.budget.actual)}}),Object.entries(t).map(e=>{let[t,s]=e;return{month:t,...s}}).sort((e,t)=>e.month.localeCompare(t.month))}(e),performanceMetrics:function(e){let t=e.filter(e=>"completed"===e.status),s=t.filter(e=>{var t,s,r;return null!==(t=e.timeline)&&void 0!==t&&!!t.startDate&&null!==(s=e.timeline)&&void 0!==s&&!!s.endDate&&null!==(r=e.timeline)&&void 0!==r&&!!r.estimatedDuration&&(new Date(e.timeline.endDate).getTime()-new Date(e.timeline.startDate).getTime())/864e5<=e.timeline.estimatedDuration}),r=t.length>0?s.length/t.length*100:0,a=t.filter(e=>{var t,s;return null!==(t=e.budget)&&void 0!==t&&!!t.estimated&&null!==(s=e.budget)&&void 0!==s&&!!s.actual&&Math.abs(e.budget.actual-e.budget.estimated)/e.budget.estimated<=.1});return{onTimeDelivery:r,budgetAdherence:t.length>0?a.length/t.length*100:0,clientSatisfaction:85,resourceEfficiency:100*j.teamUtilization}}(e)}},[t,m]);function v(e,t){return e>t?{direction:"up",value:(e-t)/t*100}:e<t?{direction:"down",value:(t-e)/t*100}:{direction:"stable",value:0}}return(0,r.jsxs)("div",{className:"space-y-6 ".concat(s),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Project Analytics"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Comprehensive insights into your project portfolio"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)("select",{value:m,onChange:e=>y(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"week",children:"This Week"}),(0,r.jsx)("option",{value:"month",children:"This Month"}),(0,r.jsx)("option",{value:"quarter",children:"This Quarter"}),(0,r.jsx)("option",{value:"year",children:"This Year"}),(0,r.jsx)("option",{value:"all",children:"All Time"})]})})]}),d&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)(x,{title:"Total Projects",value:j.totalProjects,icon:l.Z,change:v(j.totalProjects,.9*j.totalProjects),color:"blue"}),(0,r.jsx)(x,{title:"Active Projects",value:j.activeProjects,icon:i.Z,change:v(j.activeProjects,.95*j.activeProjects),color:"green"}),(0,r.jsx)(x,{title:"Budget Utilization",value:"".concat(j.budgetUtilization.toFixed(1),"%"),icon:o.Z,change:v(j.budgetUtilization,.9*j.budgetUtilization),color:"purple"}),(0,r.jsx)(x,{title:"Team Utilization",value:"".concat(j.teamUtilization.toFixed(1),"%"),icon:c.Z,change:v(j.teamUtilization,.95*j.teamUtilization),color:"orange"})]}),d&&(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)(g,{label:"On-Time Delivery",value:j.performanceMetrics.onTimeDelivery,target:90,color:"green"}),(0,r.jsx)(g,{label:"Budget Adherence",value:j.performanceMetrics.budgetAdherence,target:85,color:"blue"}),(0,r.jsx)(g,{label:"Client Satisfaction",value:j.performanceMetrics.clientSatisfaction,target:90,color:"purple"}),(0,r.jsx)(g,{label:"Resource Efficiency",value:j.performanceMetrics.resourceEfficiency,target:80,color:"orange"})]})]}),n&&(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Status Distribution"}),(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(j.statusDistribution).map(e=>{let[t,s]=e;return(0,r.jsx)(h,{status:t,count:s,total:j.totalProjects},t)})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Types"}),(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(j.projectTypes).map(e=>{let[t,s]=e;return(0,r.jsx)(b,{type:t,count:s,total:j.totalProjects},t)})})]})]}),u&&(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Progress Trends"}),(0,r.jsx)("div",{className:"space-y-4",children:j.monthlyProgress.map((e,t)=>(0,r.jsx)(p,{month:e.month,completed:e.completed,started:e.started,revenue:e.revenue,isLatest:t===j.monthlyProgress.length-1},e.month))})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",j.totalBudget.toLocaleString()]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Budget"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[j.averageProjectDuration.toFixed(1)," days"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Avg. Project Duration"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:j.completedProjects}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Projects Completed"})]})]})]})]})}function x(e){let{title:t,value:s,icon:a,change:l,color:i}=e;return(0,r.jsxs)(n.E.div,{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",whileHover:{y:-2},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s})]}),(0,r.jsx)("div",{className:"p-3 rounded-lg ".concat({blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",orange:"bg-orange-50 text-orange-600"}[i]),children:(0,r.jsx)(a,{size:24})})]}),"stable"!==l.direction&&(0,r.jsxs)("div",{className:"flex items-center mt-4 text-sm",children:["up"===l.direction?(0,r.jsx)(d.Z,{className:"w-4 h-4 text-green-500 mr-1"}):(0,r.jsx)(u.Z,{className:"w-4 h-4 text-red-500 mr-1"}),(0,r.jsxs)("span",{className:"up"===l.direction?"text-green-600":"text-red-600",children:[l.value.toFixed(1),"%"]}),(0,r.jsx)("span",{className:"text-gray-500 ml-1",children:"from last period"})]})]})}function g(e){let{label:t,value:s,target:a,color:n}=e,l=s>=a;return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat({green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",purple:"bg-purple-100 text-purple-800",orange:"bg-orange-100 text-orange-800"}[n]," mb-2"),children:[l?"✓":"⚠"," ",t]}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[s.toFixed(1),"%"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Target: ",a,"%"]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(l?"bg-green-500":"bg-orange-500"),style:{width:"".concat(Math.min(s,100),"%")}})})]})}function h(e){let{status:t,count:s,total:a}=e,n=a>0?s/a*100:0;return(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-20 text-sm font-medium text-gray-700 capitalize",children:t}),(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat({active:"bg-green-500",planning:"bg-blue-500","on-hold":"bg-yellow-500",completed:"bg-gray-500",cancelled:"bg-red-500"}[t]||"bg-gray-500"),style:{width:"".concat(n,"%")}})}),(0,r.jsx)("div",{className:"w-12 text-sm text-gray-600 text-right",children:s})]})}function b(e){let{type:t,count:s,total:a}=e,n=a>0?s/a*100:0;return(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-24 text-sm font-medium text-gray-700 capitalize",children:t}),(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat({residential:"bg-purple-500",commercial:"bg-indigo-500",industrial:"bg-orange-500",infrastructure:"bg-teal-500",renovation:"bg-pink-500"}[t]||"bg-gray-500"),style:{width:"".concat(n,"%")}})}),(0,r.jsx)("div",{className:"w-12 text-sm text-gray-600 text-right",children:s})]})}function p(e){let{month:t,completed:s,started:a,revenue:n,isLatest:l}=e,[i,o]=t.split("-"),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(o)-1];return(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-lg ".concat(l?"bg-blue-50 border border-blue-200":"bg-gray-50"),children:[(0,r.jsxs)("div",{className:"w-16 text-sm font-medium text-gray-700",children:[c," ",i]}),(0,r.jsxs)("div",{className:"flex-1 flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Started"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-green-600",children:s}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Completed"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-blue-600",children:["$",n.toLocaleString()]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Revenue"})]})]}),l&&(0,r.jsx)("div",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Latest"})]})}},3054:function(e,t,s){s.d(t,{wR:function(){return n}});var r=s(7437);s(2265);var a=s(9231);function n(e){let{showDetails:t=!0,showActions:s=!0,className:n=""}=e,{isOnline:l,syncStatus:i,loading:o,forceSync:c,clearOldData:d}=(0,a.jp)(),u=async()=>{try{await c()}catch(e){console.error("Force sync failed:",e)}},m=async()=>{if(confirm("Are you sure you want to clear old synced data? This cannot be undone."))try{await d()}catch(e){console.error("Clear old data failed:",e)}};return o?(0,r.jsx)("div",{className:"sync-status loading ".concat(n),children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"Loading sync status..."})]})}):(0,r.jsxs)("div",{className:"sync-status ".concat(n),children:[(0,r.jsx)("div",{className:"network-status mb-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(l?"bg-green-500":"bg-red-500")}),(0,r.jsx)("span",{className:"text-sm font-medium ".concat(l?"text-green-700":"text-red-700"),children:l?"Online":"Offline"})]})}),i&&(0,r.jsx)("div",{className:"sync-summary mb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium ".concat(i?i.failedProjects>0?"text-red-500":i.pendingProjects>0?"text-yellow-500":"text-green-500":"text-gray-500"),children:i?i.failedProjects>0?"Sync Failed":i.pendingProjects>0?"Pending Sync":"Synced":"Unknown"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["Last sync: ",(()=>{if(!(null==i?void 0:i.lastSync))return"Never";let e=new Date,t=new Date(i.lastSync),s=Math.floor((e.getTime()-t.getTime())/6e4);if(s<1)return"Just now";if(s<60)return"".concat(s,"m ago");let r=Math.floor(s/60);return r<24?"".concat(r,"h ago"):"".concat(Math.floor(r/24),"d ago")})()]})]})}),t&&i&&(0,r.jsxs)("div",{className:"sync-details mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,r.jsxs)("div",{className:"sync-stat",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Total Projects:"}),(0,r.jsx)("span",{className:"font-medium ml-2",children:i.totalProjects})]}),(0,r.jsxs)("div",{className:"sync-stat",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Synced:"}),(0,r.jsx)("span",{className:"font-medium text-green-600 ml-2",children:i.syncedProjects})]}),(0,r.jsxs)("div",{className:"sync-stat",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Pending:"}),(0,r.jsx)("span",{className:"font-medium text-yellow-600 ml-2",children:i.pendingProjects})]}),(0,r.jsxs)("div",{className:"sync-stat",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Failed:"}),(0,r.jsx)("span",{className:"font-medium text-red-600 ml-2",children:i.failedProjects})]})]}),i.totalProjects>0&&(0,r.jsxs)("div",{className:"sync-progress mt-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,r.jsx)("span",{children:"Sync Progress"}),(0,r.jsxs)("span",{children:[Math.round(i.syncedProjects/i.totalProjects*100),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(i.syncedProjects/i.totalProjects*100,"%")}})})]})]}),s&&(0,r.jsxs)("div",{className:"sync-actions space-y-2",children:[(0,r.jsx)("button",{onClick:u,disabled:!l||o,className:"w-full px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium transition-colors",children:o?"Syncing...":"Force Sync"}),(0,r.jsx)("button",{onClick:m,disabled:o,className:"w-full px-3 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium transition-colors",children:"Clear Old Data"})]}),!l&&(0,r.jsx)("div",{className:"offline-notice mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,r.jsx)("p",{className:"text-xs text-yellow-800",children:"You're currently offline. Changes will be saved locally and synced when you're back online."})}),(null==i?void 0:i.failedProjects)&&i.failedProjects>0&&(0,r.jsx)("div",{className:"sync-issues mt-3 p-2 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsxs)("p",{className:"text-xs text-red-800",children:[i.failedProjects," project(s) failed to sync. Please check your connection and try again."]})})]})}},6006:function(e,t,s){s.d(t,{H:function(){return u}});var r=s(7437),a=s(2265),n=s(2167),l=s(5251),i=s(9670),o=s(7158),c=s(9617),d=s(1138);function u(e){let{projects:t,itemHeight:s=80,containerHeight:o=600,onProjectClick:c,onEditProject:d,onDeleteProject:u,onViewProject:x,loading:g=!1,emptyMessage:h="No projects found",className:b="",showActions:p=!0,searchTerm:f="",filters:y={}}=e,[j,v]=(0,a.useState)(0),[N,w]=(0,a.useState)(null),[C,S]=(0,a.useState)(null),[k,D]=(0,a.useState)(new Set),E=(0,a.useMemo)(()=>{let e=t;if(f){let t=f.toLowerCase();e=e.filter(e=>{var s;return e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.client.name.toLowerCase().includes(t)||(null===(s=e.client.company)||void 0===s?void 0:s.toLowerCase().includes(t))||e.tags.some(e=>e.toLowerCase().includes(t))})}return y.status&&(e=e.filter(e=>e.status===y.status)),y.type&&(e=e.filter(e=>e.type===y.type)),y.client&&(e=e.filter(e=>{var t;return e.client.name.toLowerCase().includes(y.client.toLowerCase())||(null===(t=e.client.company)||void 0===t?void 0:t.toLowerCase().includes(y.client.toLowerCase()))})),e},[t,f,y]),P=(0,a.useMemo)(()=>{let e=Math.floor(j/s),t=Math.min(e+Math.ceil(o/s)+1,E.length),r=[];for(let a=e;a<t;a++)r.push({index:a,project:E[a],top:a*s,height:s});return r},[j,o,s,E]),M=(0,a.useCallback)(e=>{v(e.currentTarget.scrollTop)},[]),T=(0,a.useCallback)(e=>{D(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},[]),L=(0,a.useCallback)(e=>{var t;S((null===(t=e._id)||void 0===t?void 0:t.toString())||null),null==c||c(e)},[c]),z=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"planning":return"bg-blue-100 text-blue-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"completed":default:return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800"}},Z=e=>{switch(e){case"residential":return"bg-purple-100 text-purple-800";case"commercial":return"bg-indigo-100 text-indigo-800";case"industrial":return"bg-orange-100 text-orange-800";case"infrastructure":return"bg-teal-100 text-teal-800";case"renovation":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},F=E.length*s;return g?(0,r.jsx)("div",{className:"flex items-center justify-center h-64 ".concat(b),children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading projects..."})]})}):0===E.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500 ".concat(b),children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(i.Z,{size:24})}),(0,r.jsx)("p",{className:"text-lg font-medium",children:h}),f&&(0,r.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:['No projects match "',f,'"']})]}):(0,r.jsxs)("div",{className:"relative ".concat(b),children:[(0,r.jsx)("div",{ref:w,className:"overflow-auto border border-gray-200 rounded-lg",style:{height:o},onScroll:M,children:(0,r.jsx)("div",{style:{height:F,position:"relative"},children:(0,r.jsx)(n.M,{children:P.map(e=>{var t,s;let{index:a,project:n,top:i,height:o}=e;return(0,r.jsx)(l.E.div,{className:"absolute left-0 right-0",style:{top:i,height:o},initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:(0,r.jsx)(m,{project:n,isSelected:C===n._id,isExpanded:k.has((null===(t=n._id)||void 0===t?void 0:t.toString())||""),onToggleExpansion:()=>{var e;return T((null===(e=n._id)||void 0===e?void 0:e.toString())||"")},onClick:()=>L(n),onEdit:()=>null==d?void 0:d(n),onDelete:()=>null==u?void 0:u(n),onView:()=>null==x?void 0:x(n),showActions:p,getStatusColor:z,getTypeColor:Z})},(null===(s=n._id)||void 0===s?void 0:s.toString())||a)})})})}),E.length>Math.ceil(o/s)&&(0,r.jsxs)("div",{className:"absolute bottom-2 right-2 bg-gray-800 text-white text-xs px-2 py-1 rounded",children:[Math.floor(j/s)+1," - ",Math.min(Math.floor(j/s)+Math.ceil(o/s),E.length)," of ",E.length]})]})}function m(e){var t;let{project:s,isSelected:a,isExpanded:u,onToggleExpansion:m,onClick:x,onEdit:g,onDelete:h,onView:b,showActions:p,getStatusColor:f,getTypeColor:y}=e;return(0,r.jsx)("div",{className:"\n        border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer\n        ".concat(a?"bg-blue-50 border-blue-200":"","\n      "),onClick:x,children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),m()},className:"p-1 hover:bg-gray-200 rounded transition-colors",children:(0,r.jsx)(l.E.div,{animate:{rotate:u?90:0},transition:{duration:.2},children:(0,r.jsx)(o.Z,{size:16,className:"text-gray-500"})})}),(0,r.jsx)("h3",{className:"font-medium text-gray-900 truncate flex-1",children:s.name})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(f(s.status)),children:s.status}),(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(y(s.type)),children:s.type})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{children:["Client: ",s.client.name]}),(0,r.jsxs)("span",{children:["Location: ",s.location.city,", ",s.location.state]})]}),(null===(t=s.budget)||void 0===t?void 0:t.estimated)&&(0,r.jsxs)("span",{className:"font-medium text-gray-700",children:["$",s.budget.estimated.toLocaleString()]})]}),(0,r.jsx)(n.M,{children:u&&(0,r.jsx)(l.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,r.jsxs)("div",{className:"pt-3 border-t border-gray-100 space-y-3",children:[s.timeline&&(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Timeline: "}),s.timeline.startDate&&(0,r.jsxs)("span",{children:["Start: ",new Date(s.timeline.startDate).toLocaleDateString()]}),s.timeline.endDate&&(0,r.jsxs)("span",{className:"ml-2",children:["End: ",new Date(s.timeline.endDate).toLocaleDateString()]})]}),s.team&&s.team.length>0&&(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Team: "}),(0,r.jsxs)("span",{children:[s.team.length," member(s)"]})]}),s.tags&&s.tags.length>0&&(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Tags: "}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:s.tags.map((e,t)=>(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:e},t))})]})]})})}),p&&(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-2 pt-3 border-t border-gray-100",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),b()},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"View project",children:(0,r.jsx)(i.Z,{size:16})}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),g()},className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Edit project",children:(0,r.jsx)(c.Z,{size:16})}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),h()},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete project",children:(0,r.jsx)(d.Z,{size:16})})]})]})})}},2937:function(e,t,s){s.d(t,{$:function(){return i}});var r=s(2265),a=s(5925);let n="slate360_demo_mode",l="slate360_demo_data";function i(){let[e,t]=(0,r.useState)(!1),[s,i]=(0,r.useState)({projectCount:0,userCount:0,isLoaded:!1,lastUpdated:null}),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{"true"===localStorage.getItem(n)&&(t(!0),d())},[]);let d=(0,r.useCallback)(()=>{try{let e=localStorage.getItem(l);if(e){let t=JSON.parse(e);i({...t,lastUpdated:t.lastUpdated?new Date(t.lastUpdated):null})}}catch(e){console.error("Failed to load saved demo data:",e)}},[]),u=(0,r.useCallback)(e=>{localStorage.setItem(n,e.toString())},[]),m=(0,r.useCallback)(e=>{try{localStorage.setItem(l,JSON.stringify(e))}catch(e){console.error("Failed to save demo data:",e)}},[]),x=(0,r.useCallback)(async()=>{if(e){c(!0);try{await new Promise(e=>setTimeout(e,800));let e={projectCount:Math.floor(15*Math.random())+5,userCount:Math.floor(8*Math.random())+3,isLoaded:!0,lastUpdated:new Date};i(e),m(e),a.Am.success("Demo mode activated! Loaded ".concat(e.projectCount," sample projects."))}catch(e){console.error("Failed to load demo data:",e),a.Am.error("Failed to load demo data. Please try again.")}finally{c(!1)}}},[e,m]),g=(0,r.useCallback)(()=>{i({projectCount:0,userCount:0,isLoaded:!1,lastUpdated:null}),localStorage.removeItem(l)},[]),h=(0,r.useCallback)(async()=>{e?(t(!1),u(!1),g(),a.Am.success("Demo mode disabled. Switched to live mode.")):(t(!0),u(!0),await x())},[e,u,x,g]);return(0,r.useEffect)(()=>{e&&!s.isLoaded&&x()},[e,s.isLoaded,x]),{isDemoMode:e,toggleDemoMode:h,demoData:s,loadDemoData:x,clearDemoData:g,isLoading:o}}}}]);